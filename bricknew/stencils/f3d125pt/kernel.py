from st.expr import Index, ConstRef
from st.grid import Grid

# Declare indices
i = Index(0)
j = Index(1)
k = Index(2)

# Declare grid
input = Grid("in", 3)
output = Grid("out", 3)
c = []
for cc in range(125):
    c.append(ConstRef('c[{}]'.format(cc)))

calc = c[ 0] * input(i - 2, j - 2, k - 2) + c[ 1] * input(i - 1, j - 2, k - 2) + c[ 2] * input(i    , j - 2, k - 2) + c[ 3] * input(i + 1, j - 2, k - 2) + c[ 4] * input(i + 2, j - 2, k - 2) + c[ 5] * input(i - 2, j - 1, k - 2) + c[ 6] * input(i - 1, j - 1, k - 2) + c[ 7] * input(i    , j - 1, k - 2) + c[ 8] * input(i + 1, j - 1, k - 2) + c[ 9] * input(i + 2, j - 1, k - 2) + c[10] * input(i - 2, j    , k - 2) + c[11] * input(i - 1, j    , k - 2) + c[12] * input(i    , j    , k - 2) + c[13] * input(i + 1, j    , k - 2) + c[14] * input(i + 2, j    , k - 2) + c[15] * input(i - 2, j + 1, k - 2) + c[16] * input(i - 1, j + 1, k - 2) + c[17] * input(i    , j + 1, k - 2) + c[18] * input(i + 1, j + 1, k - 2) + c[19] * input(i + 2, j + 1, k - 2) + c[20] * input(i - 2, j + 2, k - 2) + c[21] * input(i - 1, j + 2, k - 2) + c[22] * input(i    , j + 2, k - 2) + c[23] * input(i + 1, j + 2, k - 2) + c[24] * input(i + 2, j + 2, k - 2) + c[25] * input(i - 2, j - 2, k - 1) + c[26] * input(i - 1, j - 2, k - 1) + c[27] * input(i    , j - 2, k - 1) + c[28] * input(i + 1, j - 2, k - 1) + c[29] * input(i + 2, j - 2, k - 1) + c[30] * input(i - 2, j - 1, k - 1) + c[31] * input(i - 1, j - 1, k - 1) + c[32] * input(i    , j - 1, k - 1) + c[33] * input(i + 1, j - 1, k - 1) + c[34] * input(i + 2, j - 1, k - 1) + c[35] * input(i - 2, j    , k - 1) + c[36] * input(i - 1, j    , k - 1) + c[37] * input(i    , j    , k - 1) + c[38] * input(i + 1, j    , k - 1) + c[39] * input(i + 2, j    , k - 1) + c[40] * input(i - 2, j + 1, k - 1) + c[41] * input(i - 1, j + 1, k - 1) + c[42] * input(i    , j + 1, k - 1) + c[43] * input(i + 1, j + 1, k - 1) + c[44] * input(i + 2, j + 1, k - 1) + c[45] * input(i - 2, j + 2, k - 1) + c[46] * input(i - 1, j + 2, k - 1) + c[47] * input(i    , j + 2, k - 1) + c[48] * input(i + 1, j + 2, k - 1) + c[49] * input(i + 2, j + 2, k - 1) + c[50] * input(i - 2, j - 2, k    ) + c[51] * input(i - 1, j - 2, k    ) + c[52] * input(i    , j - 2, k    ) + c[53] * input(i + 1, j - 2, k    ) + c[54] * input(i + 2, j - 2, k    ) + c[55] * input(i - 2, j - 1, k    ) + c[56] * input(i - 1, j - 1, k    ) + c[57] * input(i    , j - 1, k    ) + c[58] * input(i + 1, j - 1, k    ) + c[59] * input(i + 2, j - 1, k    ) + c[60] * input(i - 2, j    , k    ) + c[61] * input(i - 1, j    , k    ) + c[62] * input(i    , j    , k    ) + c[63] * input(i + 1, j    , k    ) + c[64] * input(i + 2, j    , k    ) + c[65] * input(i - 2, j + 1, k    ) + c[66] * input(i - 1, j + 1, k    ) + c[67] * input(i    , j + 1, k    ) + c[68] * input(i + 1, j + 1, k    ) + c[69] * input(i + 2, j + 1, k    ) + c[70] * input(i - 2, j + 2, k    ) + c[71] * input(i - 1, j + 2, k    ) + c[72] * input(i    , j + 2, k    ) + c[73] * input(i + 1, j + 2, k    ) + c[74] * input(i + 2, j + 2, k    ) + c[75] * input(i - 2, j - 2, k + 1) + c[76] * input(i - 1, j - 2, k + 1) + c[77] * input(i    , j - 2, k + 1) + c[78] * input(i + 1, j - 2, k + 1) + c[79] * input(i + 2, j - 2, k + 1) + c[80] * input(i - 2, j - 1, k + 1) + c[81] * input(i - 1, j - 1, k + 1) + c[82] * input(i    , j - 1, k + 1) + c[83] * input(i + 1, j - 1, k + 1) + c[84] * input(i + 2, j - 1, k + 1) + c[85] * input(i - 2, j    , k + 1) + c[86] * input(i - 1, j    , k + 1) + c[87] * input(i    , j    , k + 1) + c[88] * input(i + 1, j    , k + 1) + c[89] * input(i + 2, j    , k + 1) + c[90] * input(i - 2, j + 1, k + 1) + c[91] * input(i - 1, j + 1, k + 1) + c[92] * input(i    , j + 1, k + 1) + c[93] * input(i + 1, j + 1, k + 1) + c[94] * input(i + 2, j + 1, k + 1) + c[95] * input(i - 2, j + 2, k + 1) + c[96] * input(i - 1, j + 2, k + 1) + c[97] * input(i    , j + 2, k + 1) + c[98] * input(i + 1, j + 2, k + 1) + c[99] * input(i + 2, j + 2, k + 1) + c[100] * input(i - 2, j - 2, k + 2) + c[101] * input(i - 1, j - 2, k + 2) + c[102] * input(i    , j - 2, k + 2) + c[103] * input(i + 1, j - 2, k + 2) + c[104] * input(i + 2, j - 2, k + 2) + c[105] * input(i - 2, j - 1, k + 2) + c[106] * input(i - 1, j - 1, k + 2) + c[107] * input(i    , j - 1, k + 2) + c[108] * input(i + 1, j - 1, k + 2) + c[109] * input(i + 2, j - 1, k + 2) + c[110] * input(i - 2, j    , k + 2) + c[111] * input(i - 1, j    , k + 2) + c[112] * input(i    , j    , k + 2) + c[113] * input(i + 1, j    , k + 2) + c[114] * input(i + 2, j    , k + 2) + c[115] * input(i - 2, j + 1, k + 2) + c[116] * input(i - 1, j + 1, k + 2) + c[117] * input(i    , j + 1, k + 2) + c[118] * input(i + 1, j + 1, k + 2) + c[119] * input(i + 2, j + 1, k + 2) + c[120] * input(i - 2, j + 2, k + 2) + c[121] * input(i - 1, j + 2, k + 2) + c[122] * input(i    , j + 2, k + 2) + c[123] * input(i + 1, j + 2, k + 2) + c[124] * input(i + 2, j + 2, k + 2)

output(i, j, k).assign(calc)

STENCIL = [output]
